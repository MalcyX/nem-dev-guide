<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.20.6" />
    <meta name="description" content="Resources for using and developing on NEM">
<meta name="author" content="Nem Project">

    <link rel="shortcut icon" href="https://rb2nem.github.io/nem-dev-guide/images/favicon.png" type="image/x-icon" />

    
    <title>Namespaces and Mosaics</title>
    <link href="https://rb2nem.github.io/nem-dev-guide//css/nucleus.css" rel="stylesheet">
    <link href="https://rb2nem.github.io/nem-dev-guide//css/font-awesome.min.css" rel="stylesheet">
    <link href="https://rb2nem.github.io/nem-dev-guide//css/hybrid.css" rel="stylesheet">
    <link href="https://rb2nem.github.io/nem-dev-guide//css/featherlight.min.css" rel="stylesheet">
    <link href="https://rb2nem.github.io/nem-dev-guide//css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="https://rb2nem.github.io/nem-dev-guide//css/horsey.css" rel="stylesheet">
    <link href="https://rb2nem.github.io/nem-dev-guide//css/theme.css" rel="stylesheet">
    <link href="https://rb2nem.github.io/nem-dev-guide//css/hugo-theme.css" rel="stylesheet">
    <script src="https://rb2nem.github.io/nem-dev-guide//js/jquery-2.x.min.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    <link rel="stylesheet" type="text/css" href="https://rb2nem.github.io/nem-dev-guide/css/ansi.css">
<link rel="stylesheet" type="text/css" href="https://rb2nem.github.io/nem-dev-guide/css/custom.css">
<link rel="stylesheet" type="text/css" href="https://rb2nem.github.io/nem-dev-guide/css/tabs.css">

  </head>
  <body class="" data-url="/09-mosaics/">
    <nav id="sidebar">
  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://nem.io">
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="505px" height="140px" viewBox="0 0 3000 768" enable-background="new 0 0 1024 768" xml:space="preserve">
<g>
	<path d="M843.539,452.711c-0.433-0.236-0.801-0.424-1.157-0.633c-46.801-27.406-82.187-72.52-96.589-126.548
		c-2.278-8.547-3.988-17.208-5.161-25.978c-1.185-8.855-1.769-17.749-1.846-26.679c-0.013-1.536-0.151-1.286,1.163-2.032
		c17.586-9.983,36.219-17.286,55.92-21.864c7.273-1.69,14.614-2.992,22.024-3.893c10.196-1.24,20.431-1.749,30.699-1.491
		c5.752,0.144,11.49,0.515,17.215,1.125c28.694,3.059,55.605,11.685,80.752,25.83c0.363,0.204,0.715,0.431,1.089,0.614
		c0.426,0.208,0.617,0.519,0.595,0.994c-0.023,0.499-0.003,1-0.01,1.5c-0.075,5.17-0.279,10.335-0.71,15.488
		c-0.62,7.399-1.611,14.748-3.013,22.04c-3.009,15.659-7.736,30.782-14.241,45.342c-10.328,23.117-24.394,43.687-42.161,61.724
		c-12.825,13.02-27.114,24.17-42.852,33.463C844.717,452.031,844.176,452.341,843.539,452.711z M748.408,277.983
		c0,0.492,0,0.865,0,1.238c0.006,7.344,0.485,14.66,1.363,21.949c0.792,6.582,1.936,13.106,3.418,19.569
		c0.262,1.14,0.615,2.23,1.116,3.296c8.973,19.098,29.765,29.253,50.382,24.586c15.721-3.559,28.457-15.674,32.831-31.182
		c1.21-4.288,1.622-8.671,1.758-13.095c0.09-2.922,0.364-5.82,0.912-8.693c3.354-17.568,15.104-32.083,31.559-38.969
		c0.922-0.386,1.863-0.726,2.791-1.097c0.131-0.052,0.342-0.069,0.28-0.31c-2.584-0.922-18.114-2.471-27.428-2.654
		c-19.984-0.394-39.567,2.232-58.718,7.973C774.606,264.81,761.214,270.59,748.408,277.983z M895.88,397.8
		c0.549-0.258,0.764-0.681,1.039-1.023c4.029-5.004,7.794-10.2,11.284-15.594c12.539-19.381,21.288-40.339,26.164-62.908
		c1.657-7.668,2.824-15.409,3.51-23.224c0.467-5.319,0.728-10.645,0.731-15.984c0-0.368-0.037-0.736-0.057-1.102
		c-0.519-0.305-0.98-0.587-1.45-0.852c-4.103-2.315-8.279-4.49-12.548-6.482c-6.157-2.872-12.401-5.531-18.893-7.567
		c-7.902-2.477-15.885-2.753-23.937-0.811c-22.921,5.527-37.569,27.962-33.229,51.127c2.406,12.845,9.297,22.754,20.348,29.75
		c0.739,0.468,1.495,0.91,2.242,1.367c8.074,4.941,14.401,11.558,18.921,19.87c4.753,8.742,6.891,18.096,6.341,28.043
		C896.25,394.154,896.048,395.892,895.88,397.8z M843.611,442.505c0.41-0.232,0.881-0.49,1.343-0.762
		c12.597-7.408,24.162-16.183,34.771-26.227c0.677-0.641,1.2-1.382,1.619-2.204c0.68-1.337,1.372-2.669,2.023-4.021
		c5.02-10.435,6.096-21.246,2.766-32.359c-6.474-21.606-27.306-34.004-48.165-31.397c-5.96,0.745-11.538,2.643-16.738,5.564
		c-9.94,5.584-20.541,7.885-31.883,6.801c-5.565-0.532-10.898-1.954-16.014-4.199c-4.029-1.768-7.769-4.018-11.242-6.718
		c-0.242-0.188-0.514-0.336-0.964-0.628c0.149,0.496,0.21,0.77,0.312,1.029c4.455,11.367,9.974,22.194,16.535,32.49
		c7.082,11.114,15.234,21.381,24.444,30.806c9.211,9.425,19.292,17.806,30.234,25.149
		C837.466,439.057,842.13,441.906,843.611,442.505z"/>
	<path fill="#F7A800" d="M748.408,277.983c12.806-7.392,26.198-13.173,40.263-17.389c19.151-5.741,38.735-8.367,58.718-7.973
		c9.314,0.184,24.844,1.732,27.428,2.654c0.062,0.241-0.149,0.257-0.28,0.31c-0.928,0.37-1.869,0.711-2.791,1.097
		c-16.455,6.886-28.205,21.401-31.559,38.969c-0.548,2.873-0.823,5.771-0.912,8.693c-0.136,4.424-0.548,8.807-1.758,13.095
		c-4.374,15.508-17.11,27.623-32.831,31.182c-20.617,4.667-41.408-5.488-50.382-24.586c-0.501-1.067-0.854-2.156-1.116-3.296
		c-1.482-6.464-2.626-12.987-3.418-19.569c-0.877-7.289-1.357-14.605-1.363-21.949C748.408,278.848,748.408,278.474,748.408,277.983
		z"/>
	<path fill="#67B2E8" d="M895.88,397.8c0.168-1.908,0.37-3.646,0.466-5.389c0.55-9.947-1.587-19.301-6.341-28.043
		c-4.52-8.313-10.847-14.929-18.921-19.87c-0.746-0.457-1.502-0.899-2.242-1.367c-11.051-6.996-17.942-16.905-20.348-29.75
		c-4.34-23.165,10.309-45.6,33.229-51.127c8.052-1.942,16.035-1.666,23.937,0.811c6.492,2.035,12.737,4.694,18.893,7.567
		c4.269,1.992,8.445,4.167,12.548,6.482c0.47,0.265,0.931,0.547,1.45,0.852c0.02,0.365,0.058,0.733,0.057,1.102
		c-0.003,5.339-0.264,10.665-0.731,15.984c-0.686,7.815-1.854,15.556-3.51,23.224c-4.876,22.569-13.625,43.527-26.164,62.908
		c-3.49,5.394-7.255,10.59-11.284,15.594C896.644,397.119,896.429,397.542,895.88,397.8z"/>
	<path fill="#00C4B3" d="M843.611,442.505c-1.481-0.599-6.145-3.447-10.959-6.678c-10.943-7.343-21.023-15.724-30.234-25.149
		c-9.211-9.425-17.363-19.691-24.444-30.806c-6.56-10.296-12.079-21.122-16.535-32.49c-0.101-0.259-0.163-0.533-0.312-1.029
		c0.451,0.292,0.723,0.44,0.964,0.628c3.473,2.7,7.214,4.95,11.242,6.718c5.116,2.246,10.449,3.668,16.014,4.199
		c11.342,1.084,21.943-1.217,31.883-6.801c5.201-2.921,10.778-4.819,16.738-5.564c20.859-2.607,41.691,9.792,48.165,31.397
		c3.33,11.113,2.254,21.924-2.766,32.359c-0.65,1.352-1.343,2.684-2.023,4.021c-0.418,0.822-0.942,1.564-1.619,2.204
		c-10.609,10.044-22.175,18.819-34.771,26.227C844.492,442.015,844.021,442.273,843.611,442.505z"/>
	<path d="M75.119,348.956h49.132v24.767c2.798-3.687,5.87-7.217,9.212-10.582c3.339-3.362,7.056-6.342,11.152-8.949
		c4.09-2.605,8.616-4.666,13.575-6.187c4.955-1.521,10.556-2.282,16.808-2.282c18.746,0,33.236,5.712,43.473,17.131
		c10.233,11.423,15.353,27.151,15.353,47.19v112.161h-49.13v-96.408c0-11.606-2.587-20.369-7.757-26.277
		c-5.172-5.91-12.501-8.87-21.981-8.87c-9.484,0-16.97,2.96-22.465,8.87c-5.493,5.908-8.242,14.671-8.242,26.277v96.408H75.119
		V348.956z"/>
	<path d="M354.988,526.084c-12.928,0-24.945-2.157-36.039-6.464c-11.102-4.309-20.687-10.45-28.767-18.425
		c-8.082-7.969-14.385-17.398-18.909-28.283c-4.526-10.879-6.789-22.999-6.789-36.363v-0.646c0-12.282,2.101-23.919,6.302-34.907
		c4.204-10.99,10.072-20.576,17.618-28.767c7.54-8.188,16.535-14.652,26.99-19.394c10.448-4.738,22.029-7.112,34.747-7.112
		c14.435,0,26.934,2.585,37.494,7.757c10.556,5.172,19.34,12.12,26.344,20.849c7,8.726,12.172,18.748,15.515,30.059
		c3.339,11.312,5.011,23.112,5.011,35.394c0,1.939-0.056,3.99-0.161,6.141c-0.112,2.157-0.273,4.419-0.484,6.789H313.293
		c2.368,11.206,7.271,19.667,14.706,25.373c7.435,5.712,16.647,8.565,27.637,8.565c8.186,0,15.515-1.397,21.979-4.202
		c6.466-2.798,13.141-7.323,20.041-13.576l28.12,24.889c-8.192,10.131-18.1,18.05-29.736,23.759
		C384.404,523.226,370.716,526.084,354.988,526.084z M386.666,422.004c-1.511-10.989-5.39-19.879-11.636-26.666
		c-6.253-6.789-14.546-10.183-24.889-10.183c-10.345,0-18.698,3.345-25.05,10.022c-6.358,6.681-10.506,15.626-12.445,26.827H386.666
		z"/>
	<path d="M465.163,348.956h49.132v24.767c2.798-3.687,5.87-7.217,9.212-10.582c3.339-3.362,7.056-6.342,11.152-8.949
		c4.09-2.605,8.67-4.666,13.737-6.187c5.061-1.521,10.717-2.282,16.97-2.282c11.419,0,21.277,2.388,29.575,7.161
		c8.294,4.778,14.708,11.61,19.232,20.51c7.54-9.111,15.945-16.005,25.212-20.671c9.264-4.666,19.824-7,31.677-7
		c18.313,0,32.646,5.39,42.989,16.161c10.345,10.779,15.517,26.617,15.517,47.515v112.806h-49.132v-96.408
		c0-11.606-2.479-20.369-7.435-26.277c-4.959-5.91-12.071-8.87-21.333-8.87c-9.268,0-16.541,2.96-21.819,8.87
		c-5.282,5.908-7.919,14.671-7.919,26.277v96.408h-49.13v-96.408c0-11.606-2.479-20.369-7.435-26.277
		c-4.959-5.91-12.071-8.87-21.333-8.87c-9.268,0-16.541,2.96-21.819,8.87c-5.282,5.908-7.919,14.671-7.919,26.277v96.408h-49.132
		V348.956z"/>
</g>
</svg>
</a>

    </div>
    
</div>


  <div class="highlightable">
    <ul class="topics">
      
      
        
      
      
      
      

      
        
      
      
      

      <li class="dd-item  parent" data-nav-id="/">
        <a href="https://rb2nem.github.io/nem-dev-guide/">
          <span>
            
              <b>NEM Developer's Guide</b>
            
             NEM&#39;s Developer Guide
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/01-intro/">
              <a href="https://rb2nem.github.io/nem-dev-guide/01-intro/">
                <span>Introduction     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02-about/">
              <a href="https://rb2nem.github.io/nem-dev-guide/02-about/">
                <span>About this guide     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/03-setting-up-environment/">
              <a href="https://rb2nem.github.io/nem-dev-guide/03-setting-up-environment/">
                <span>Setting up the environment     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/03b-accounts/">
              <a href="https://rb2nem.github.io/nem-dev-guide/03b-accounts/">
                <span>NEM Accounts     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/04-blockchain-requests/">
              <a href="https://rb2nem.github.io/nem-dev-guide/04-blockchain-requests/">
                <span>Blockchain requests     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/04b-account-requests/">
              <a href="https://rb2nem.github.io/nem-dev-guide/04b-account-requests/">
                <span>Account requests     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/05-transaction-overview/">
              <a href="https://rb2nem.github.io/nem-dev-guide/05-transaction-overview/">
                <span>Transactions Overview     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/06-transaction-transfer/">
              <a href="https://rb2nem.github.io/nem-dev-guide/06-transaction-transfer/">
                <span>Transfer Transactions     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/07-monitoring-blockchain/">
              <a href="https://rb2nem.github.io/nem-dev-guide/07-monitoring-blockchain/">
                <span>Monitoring the blockchain     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/08-multisig-accounts/">
              <a href="https://rb2nem.github.io/nem-dev-guide/08-multisig-accounts/">
                <span>Managing and using multisig accounts     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item active" data-nav-id="/09-mosaics/">
              <a href="https://rb2nem.github.io/nem-dev-guide/09-mosaics/">
                <span>Namespaces and Mosaics     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/10-offline-signer/">
              <a href="https://rb2nem.github.io/nem-dev-guide/10-offline-signer/">
                <span>Developing an application     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/80-debugging/">
              <a href="https://rb2nem.github.io/nem-dev-guide/80-debugging/">
                <span>Debugging     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/90-snippets/">
              <a href="https://rb2nem.github.io/nem-dev-guide/90-snippets/">
                <span>Code snippets     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/95-running-node/">
              <a href="https://rb2nem.github.io/nem-dev-guide/95-running-node/">
                <span>Running a node     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/99-references/">
              <a href="https://rb2nem.github.io/nem-dev-guide/99-references/">
                <span>References     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
    </ul>
    <hr>
     
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fa fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>

        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable">

            <div id="top-bar">
              
                
                
                
              <div id="top-github-link">
                  <a class="github-link" href="https://github.com/rb2nem/nem-dev-guide/edit/master/website/content/09-mosaics.md" target="blank">
                    <i class="fa fa-code-fork"></i>
                    Edit this page
                  </a>
              </div>
                
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                
                <span id="toc-menu"><a href=""><i class="fa fa-list-alt"></i></a></span>
                
                
                
                
                  
                
                <span itemprop="title"> Namespaces and Mosaics</span>
              </div>
              
                  <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#namespaces">Namespaces</a>
<ul>
<li><a href="#root-namespaces">Root namespaces</a></li>
<li><a href="#sub-namespaces">Sub-namespaces</a></li>
<li><a href="#other-operations">Other operations</a></li>
</ul></li>
<li><a href="#mosaics">Mosaics</a>
<ul>
<li><a href="#mosaic-creation">Mosaic creation</a></li>
<li><a href="#modifying-a-mosaic">Modifying a Mosaic</a></li>
<li><a href="#mosaic-supply-change">Mosaic supply change</a></li>
<li><a href="#requesting-mosaic-definition">Requesting Mosaic definition</a></li>
<li><a href="#mosaic-transfers">Mosaic transfers</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

              

            </div>
            
    	        <div id="body-inner">
                
                <h1>Namespaces and Mosaics</h1>
                



<p>NEM&rsquo;s mosaics are let you create and manage tokens on the NEM blockchain. These tokens can then be transferred by issuing transactions
just as with NEM&rsquo;s native tokens, XEMs.</p>

<p>A Mosaic is always created in a namespace. A namespace is analog to a domain name you register on the internet. A domain name can be
seen as a namespace on the internet. john@example1.com and john@example2.com are distinct email addresses even though they have the same user part.
Across namespace, you can have duplicate items, but the combination of the namespace and the user part are distinct.</p>

<p>The same goes for namespaces and Mosaics. You first need to create a namespace on the NEM blockchain, and in that namespace you can create
your mosaic and name it (nearly) anything you want. A <a href="https://blog.nem.io/mosaics-and-namespaces-2/">detailed overview of namespaces</a> is available.</p>

<p>A good guide is available to <a href="https://blog.nem.io/maing-namespaces-and-mosaics/">create your Mosaics with NanoWallet</a> and we will not duplicate
this content here. In this section, we will focus on how you can programmatically create and manipulate NEM&rsquo;s Mosaics. We will do that
with <a href="http://www.nemlibrary">nem-library</a>.</p>

<h2 id="namespaces">Namespaces</h2>

<h3 id="root-namespaces">Root namespaces</h3>

<p>Creating a namespace with nem-library is straight-forward and <a href="https://nemlibrary.com/guide/namespace/">illustrated in the project&rsquo;s documentation</a>.
You create a ProvisionNamespaceTransaction passing the namespace to create as argument along the deadline of the transaction:</p>

<pre><code>const namespace = &quot;new-namespace&quot;;

const provisionNamespaceTransaction: Transaction = ProvisionNamespaceTransaction.create(
    TimeWindow.createWithDeadline(),
    namespace
);
</code></pre>

<p>The object created has this form:</p>

<pre><code>ProvisionNamespaceTransaction {
  type: 8193,
  version: 1,
  timeWindow: 
   TimeWindow {
     deadline: LocalDateTime { _date: [Object], _time: [Object] },
     timeStamp: LocalDateTime { _date: [Object], _time: [Object] } },
  signature: undefined,
  signer: undefined,
  transactionInfo: undefined,
  rentalFee: 100000000,
  rentalFeeSink: 
   Address {
     value: 'TAMESPACEWH4MKFMBCVFERDPOOP4FK7MTDJEYP35',
     networkType: 152 },
  newPart: 'testdevguide',
  parent: undefined,
  fee: 150000 }

</code></pre>

<p>transaction type is 8193, as listed in the <a href="https://rb2nem.github.io/nem-dev-guide/05-transaction-overview">Transactions Overview</a>.
The name of the namespace is under the key <code>newPart</code>. As this is a root namespace, the <code>parent</code> is undefined.
Also note that the <code>fee</code> and <code>rentalFee</code> are set. The <code>rentalFee</code> is collected in a multisig account.</p>

<div class="notices note" ><p>The rentalFee is not given to the harvesters because this would encourage
harvesters to wait until they are allowed to harvest a block, include their
provision namespace transaction in that block and thus essentially getting the
namespace for free.</p>
</div>


<p>Once this transaction is created, you sign and announce it as you would any other transaction:</p>

<pre><code>const signedTransaction = account.signTransaction(provisionNamespaceTransaction);
transactionHttp.announceTransaction(signedTransaction).subscribe( x =&gt; console.log(x));
</code></pre>

<p>When the transaction is integrated in the blockchain, your namespace is registered.</p>

<p>Here is the complete code:</p>

<pre><code>import{
    NEMLibrary, NetworkTypes, Transaction, TimeWindow, ProvisionNamespaceTransaction, Account, TransactionHttp
} from &quot;nem-library&quot;;

declare let process: any;

// Initialize NEMLibrary for TEST_NET Network
NEMLibrary.bootstrap(NetworkTypes.TEST_NET);

const privateKey: string = process.env.PRIVATE_KEY;
const account = Account.createWithPrivateKey(privateKey);
const transactionHttp = new TransactionHttp({domain: &quot;104.128.226.60&quot;});

const namespace = &quot;new-namespace&quot;;

const provisionNamespaceTransaction: Transaction = ProvisionNamespaceTransaction.create(
    TimeWindow.createWithDeadline(),
    namespace
);

const signedTransaction = account.signTransaction(provisionNamespaceTransaction);
transactionHttp.announceTransaction(signedTransaction).subscribe( x =&gt; console.log(x));
</code></pre>

<h3 id="sub-namespaces">Sub-namespaces</h3>

<p>Creating a sub-namespace is very similar, but you pass the subspace before the parent namespace.</p>

<pre><code>const provisionNamespaceTransaction: Transaction = ProvisionNamespaceTransaction.create(
    TimeWindow.createWithDeadline(),
    subnamespace,
    namespace
);
</code></pre>

<p>You can add only one level of subnamespace at a time.</p>

<h3 id="other-operations">Other operations</h3>

<p>The nem-library allows you to <a href="https://nemlibrary.com/guide/namespace/#how-to-know-if-a-namespace-exists">check if a namespace exists</a> and
<a href="https://nemlibrary.com/guide/namespace/#how-to-know-the-owner-of-a-namespace">query the owner of a namespace</a>. Examples are provided in the
documentation of the project.</p>

<h2 id="mosaics">Mosaics</h2>

<p>When creating a Mosaic, you have to first define several parameters applying to it.
The first thing to define is the namespace in which the Mosaic will be defined. It has to be
a namespace owned by the account creating the Mosaic.
The namespace has to respect this pattern:<code>[a-z0-9][a-z0-9'_-]*( [a-z0-9'_-]+)*</code>.
This means it has to start with a lowercase letter or a digit, optionally followed by a lowercase letter, a digit or one of the characters <code>'_-</code>.
After that we can have several single-space separated groups of the same characters (lower case letter, digit or one of <code>'_-</code>).</p>

<p>In short it means:</p>

<ul>
<li>it has to start with a lowercase letter or a digit</li>
<li>from the second character you can also use the characters <code>'</code>, <code>_</code> and <code>-</code>.</li>
<li>from the second character you can use spaces, but not multiple subsequent spaces.</li>
<li>no trailing space, i.e. a space always must be followed by another character</li>
</ul>

<p>Some example of valid Mosaic definitions:</p>

<ul>
<li><code>allright</code></li>
<li><code>4llright</code></li>
<li><code>4 llright</code></li>
<li><code>4 llright 4 nem</code></li>
</ul>

<p>But those are invalid:</p>

<ul>
<li><code>Allright</code> (uppercase)</li>
<li><code>all  right</code> (2 subsequent spaces)</li>
<li><code>allright!</code> (unsupported character)</li>
<li><code>allright</code> (trailing space)</li>
</ul>

<p>You can easily check your Mosaic name with a regular expression checker as <a href="https://regex101.com/">regex101</a>.
Enter the regular expression <code>[a-z0-9][a-z0-9'_-]*( [a-z0-9'_-]+)*</code> and enter you Mosaic name as the test string.
The whole name of your mosaic must be covered by one match. If you have more than one match or some characters not
covered by the regexp, your name is invalid.</p>

<p>Accompanying the name of the Mosaic, you can provide an optional 512 character long description. All characters are
accepted in the description string.</p>

<p>There are also fundamental parameters that will defined your Mosaic such as:</p>

<ul>
<li>the initial supply, the initial number of token that will be available at creation time.</li>
<li>the supply can also be marked as mutable if you want to modify the supply of your token over time.</li>
<li>the transferability of your token</li>
<li>the divisibility of your token, i.e the number after the decimal separator that you can specify when transfering the token.
0 means one token can not be subdivided and can only be transfered as a whole. 1 means you can transfer a tenth of a token.</li>
</ul>

<p>You can also decide to impose a levy or not. The levy a fee that is transfered to an account determined at mosaic definition time
for every transfer of that mosaic.
You can decide to impose a levy in the Mosaic of your choice:</p>

<ul>
<li>XEMs, which are the standard tokens on the NEM blockchain</li>
<li>or your own newly defined token.</li>
</ul>

<p>The levy is either an absolute value, independent from the amount of tokens transfered, or it can be expressed in percentile of the
number of tokens transfered. A percentile of 100 will apply 1% of the amount transferred as levy. As such, the lowest levy you can apply a
<sup>1</sup>&frasl;<sub>10000</sub> (on ten thousandth) of the transfered amount.</p>

<p>When creating the Mosaic, a fee is paid to a sink address. An addressed managed by the NEM project.</p>

<h3 id="mosaic-creation">Mosaic creation</h3>

<p>Nem-library supports the creation of Mosaics. The first step is to create a MosaicDefinition, which specifies:</p>

<ul>
<li>the account for which the Mosaic is created</li>
<li>a MosaicId, composed  of

<ul>
<li>the namespace in which the Mosaic will be created</li>
<li>the Mosaic name</li>
</ul></li>
<li>a description of the Mosaic</li>
<li>all properties of the Mosaic:

<ul>
<li>the divisibility (number)</li>
<li>the initial supply (number)</li>
<li>the transferability (boolean)</li>
<li>the supply mutability (boolean)</li>
</ul></li>
<li>the definition of the levy:

<ul>
<li>the type of levy (percentile or absolute)</li>
<li>the address to which the levy will be sent</li>
<li>the MosaicId in which the levy will be paid (specifyin namespace and mosaic name as above)</li>
<li>the fee value</li>
<li>if percentile, the fee paid is <code>amount_transfered * fee/10000</code></li>
<li>if absolute, the value is the fee paid whatever the amount transfered</li>
</ul></li>
</ul>

<p>This translate in this code, taken from nem-library&rsquo;s documentation:</p>

<pre><code>    const md = new MosaicDefinition(
        PublicAccount.createWithPublicKey(account.publicKey),
        new MosaicId(&quot;my-namespace&quot;, &quot;my-mosaic&quot;),
        &quot;my test mosaic description&quot;,
        new MosaicProperties(0, 9000000, true, true),
        new MosaicLevy(
            MosaicLevyType.Percentil,
            account.address,
            new MosaicId(&quot;nem&quot;, &quot;xem&quot;),
            2
        )
    )
</code></pre>

<p>This defines</p>

<ul>
<li>a Mosaic named <code>my-mosaic</code>in the namespace <code>my-namespace</code>, with a description text</li>
<li>a transferable Mosaic that is not divisible, has an initial supply of 9000000 that can be changed over time</li>
<li>the levy applied to transfers of this Mosaic. The levy is paid in XEMs to the account creating the Mosaic. The amount of the levy is 2 ten-thousandths of the transfered value.</li>
</ul>

<p>This is the resulting object  m̀d`:</p>

<pre><code>MosaicDefinition {
  creator: 
   PublicAccount {
     address: 
      Address {
        value: 'TA6XFSJYZYAIYP7FL7X2RL63647FRMB65YC6CO3G',
        networkType: 152 },
     publicKey: '4fe5efd97360bc8a32ec105d419222eeb714e6d06fd8b895a5eedda2b0edf931' },
  id: 
   MosaicId {
     namespaceId: 'devguidetest.sub1.sub2',
     name: 'devguide-mosaic' },
  description: 'my test mosaic description',
  properties: 
   MosaicProperties {
     initialSupply: 9000000,
     supplyMutable: true,
     transferable: true,
     divisibility: 0 },
  levy: 
   MosaicLevy {
     type: 2,
     recipient: 
      Address {
        value: 'TA6XFSJYZYAIYP7FL7X2RL63647FRMB65YC6CO3G',
        networkType: 152 },
     mosaicId: MosaicId { namespaceId: 'nem', name: 'xem' },
     fee: 2 },
  metaId: undefined }


</code></pre>

<p>This MosaicDefinition instance can then be used in the creation of a <code>MosaicDefinitionCreationTransaction</code> to be advertised to the network:</p>

<pre><code>    const mosaicDefinitionTransaction = MosaicDefinitionCreationTransaction.create(
        TimeWindow.createWithDeadline(),
        md
    );
</code></pre>

<p>The advertisement of the transaction is done as for other transaction types:</p>

<pre><code>    const signedTransaction = account.signTransaction(mosaicDefinitionTransaction);
    transactionHttp.announceTransaction(signedTransaction).subscribe( x =&gt; console.log(x));
</code></pre>

<p>The complete code is:</p>

<pre><code>import {
    NEMLibrary, NetworkTypes, TimeWindow, Account, TransactionHttp,
    MosaicDefinitionCreationTransaction, MosaicDefinition, PublicAccount, MosaicId, MosaicProperties, MosaicLevy,
    MosaicLevyType
} from &quot;nem-library&quot;;

declare let process: any;

// Initialize NEMLibrary for TEST_NET Network
NEMLibrary.bootstrap(NetworkTypes.TEST_NET);

const privateKey: string = process.env.PRIVATE_KEY;
const account = Account.createWithPrivateKey(privateKey);
const transactionHttp = new TransactionHttp();
const md = new MosaicDefinition(
        PublicAccount.createWithPublicKey(account.publicKey),
        new MosaicId(&quot;devguidetest.sub1.sub2&quot;, &quot;devguide-mosaic&quot;),
        &quot;mosaic description&quot;,
        new MosaicProperties(0, 9000000, true, true),
        new MosaicLevy(
            MosaicLevyType.Percentil,
            account.address,
            new MosaicId(&quot;nem&quot;, &quot;xem&quot;),
            2
        )
     );

const mosaicDefinitionTransaction = MosaicDefinitionCreationTransaction.create(
    TimeWindow.createWithDeadline(),
    md
);

const signedTransaction = account.signTransaction(mosaicDefinitionTransaction);
transactionHttp.announceTransaction(signedTransaction).subscribe( x =&gt; console.log(x));

</code></pre>

<h3 id="modifying-a-mosaic">Modifying a Mosaic</h3>

<p>The NEM API has the best explanation about this, and it is copied verbatim here:</p>

<p>There might be the need to alter a mosaic definition, either because you want to change the description or because you supplied faulty properties or faulty levy data. This is done simply by issuing another mosaic definition creation transaction as described above with the same mosaic id but different description/properties/levy. However there are some restriction when doing so:</p>

<p>The description can be changed at any point even if the creator does not own the entire supply.
Properties and the levy data can only be changed if the creator owns every single mosaic of that type. This is necessary to prevent the creator from secretly introducing a levy or inflating the mosaic by increasing the supply.
Keep in mind that renewing the mosaic definition costs you the creation fee again, so it is worthwhile to double check the data before issuing the transaction.</p>

<h3 id="mosaic-supply-change">Mosaic supply change</h3>

<p>If you defined your Mosaic with a mutable supply, you can change the supply with a <code>MosaicSupplyChangeTransaction</code>.
You initialise such a transaction with:</p>

<ul>
<li>the MosaicId (namespace and Mosaic name) of the Mosaic to update</li>
<li>the type of your change: increase or decrease the supply</li>
<li>the change in value to apply</li>
</ul>

<p>Here is an example creating the transaction:</p>

<pre><code>import {
    MosaicSupplyChangeTransaction, MosaicSupplyType
} from &quot;nem-library&quot;;

var tx = MosaicSupplyChangeTransaction.create(
    TimeWindow.createWithDeadline(),
    new MosaicId(&quot;my-namespace&quot;, &quot;my-mosaic&quot;),
    MosaicSupplyType.Increase,
    1000000);
</code></pre>

<p>This is the object created:</p>

<pre><code>MosaicSupplyChangeTransaction {
  type: 16386,
  version: 1,
  timeWindow: 
   TimeWindow {
     deadline: LocalDateTime { _date: [Object], _time: [Object] },
     timeStamp: LocalDateTime { _date: [Object], _time: [Object] } },
  signature: undefined,
  signer: undefined,
  transactionInfo: undefined,
  mosaicId: 
   MosaicId {
     namespaceId: 'devguidetest.sub1.sub2',
     name: 'devguide-mosaic' },
  supplyType: 1,
  delta: 1000000,
  fee: 150000 }

</code></pre>

<p>This defines a transaction to update our mosaic, increasing its total supply by on million, resulting
in a total supply of 10000000 after it has been broadcasted and accepted by the network.</p>

<h3 id="requesting-mosaic-definition">Requesting Mosaic definition</h3>

<p>nem-library lets you send request to the network to retrieve existing Mosaic definitions in a namespace.
This is done with a MosaicHttp instance</p>

<pre><code>import {
    NEMLibrary, NetworkTypes, MosaicHttp, TransactionTypes
} from &quot;nem-library&quot;;


const mosaicHttp = new MosaicHttp();
const namespace = &quot;devguidetest.sub1.sub2&quot;;

mosaicHttp.getAllMosaicsGivenNamespace(namespace).subscribe(mosaicDefinitions =&gt; {
	    console.log(mosaicDefinitions);
});
</code></pre>

<p>Answers to this request have this format:</p>

<pre><code>[ MosaicDefinition {
    creator: 
     PublicAccount {
       address: [Object],
       publicKey: '4fe5efd97360bc8a32ec105d419222eeb714e6d06fd8b895a5eedda2b0edf931' },
    id: 
     MosaicId {
       namespaceId: 'devguidetest.sub1.sub2',
       name: 'devguide-mosaic' },
    description: 'my test mosaic description',
    properties: 
     MosaicProperties {
       initialSupply: 9000000,
       supplyMutable: true,
       transferable: true,
       divisibility: 0 },
    levy: MosaicLevy { type: 2, recipient: [Object], mosaicId: [Object], fee: 2 },
    metaId: 718 } ]

</code></pre>

<p>Note that these are parameters used at definition time. Changes in supply are not reflected!
Nem-library does not yet support requesting current supply. It will soon though!</p>

<h3 id="mosaic-transfers">Mosaic transfers</h3>

<p>Transfering Mosaics rather than XEMs is a bit more difficult, but still very easy.
You first initialise a <code>MosaicHttp</code> instance, which gives you the method <code>getMosaicTransferableWithAmount</code> taking a MosaicId and an amount.
The trick is that the method <code>getMosaicTransferableWithAmount</code> returns an <code>Observable</code>, requiring you to subscribe to its return value to
have access to the transferable mosaics?</p>

<p>So we first need to initialise our <code>MosaicId</code>:</p>

<pre><code>var namespace = &quot;devguidetest.sub1.sub2&quot;
var mosaic = &quot;devguide-mosaic
var mosaicId = new MosaicId(namespace, mosaic);
</code></pre>

<p>This can be passed to the call to <code>getMosaicTransferableWithAmount</code>.
You subscribe on its return value to get access to the <code>transferable</code> Mosaics, which
you can use in your code in curly braces:</p>

<pre><code>mosaicHttp.getMosaicTransferableWithAmount( mosaicId, amount).subscribe( transferable =&gt; { ... });
</code></pre>

<p>The code in the curly braces needs to initialise a <code>TransferTransaction</code>, but for Mosaics, which is done with the method <code>createWithMosaics</code>:
It takes as arguments the timewindow for setting the deadline, the recipient address, the transferable mosaics and a message:</p>

<pre><code>                var transferTransaction: Transaction = TransferTransaction.createWithMosaics( 
                                             TimeWindow.createWithDeadline(), 
                                             new Address(&quot;TDK4QK-F7HBHE-AFTEUR-OFMCAF-JQGBZT-SZ2ZSG-ZKZM&quot;),
                                             [transferable],  
                                             EmptyMessage);

</code></pre>

<p>This transaction can then be signed and broadcasted as other transactions:</p>

<pre><code>               const signedTransaction = account.signTransaction(transferTransaction);
               transactionHttp.announceTransaction(signedTransaction).subscribe( x =&gt; console.log(x));
</code></pre>

<p>An alternative form, proposed by aleix, author of nem-library, is chaining method calls in a reactive way, as
encouraged by RxJS:</p>

<pre><code>               mosaicHttp.getMosaicTransferableWithAmount(mosaicId, amount)
                   .map(mosaicTransferable =&gt; TransferTransaction.createWithMosaics(
                       TimeWindow.createWithDeadline(),
                       new Address(&quot;TDK4QK-F7HBHE-AFTEUR-OFMCAF-JQGBZT-SZ2ZSG-ZKZM&quot;),
                       [mosaicTransferable],
                       EmptyMessage
                   ))
                   .map(transferTransaction =&gt; account.signTransaction(transferTransaction))
                   .flatMap(signedTransaction =&gt; transactionHttp.announceTransaction(signedTransaction))
                   .subscribe(announceTransactionResult =&gt; {
                       console.log(&quot;Result&quot;, announceTransactionResult)
                   });
</code></pre>

<p>This has the same result.</p>

<p>To conclude, here is the complete code for this example:</p>

<pre><code>import {
    NEMLibrary, NetworkTypes, Address, TransferTransaction, Transaction, TimeWindow,
    EmptyMessage, MultisigTransaction, PublicAccount, TransactionHttp, XEM, MosaicHttp, MosaicId, Account
} from &quot;nem-library&quot;;

// Initialize NEMLibrary for TEST_NET Network
NEMLibrary.bootstrap(NetworkTypes.TEST_NET);


const privateKey: string = &quot;$YOUR_PRIVATE_KEY&quot;;
const account = Account.createWithPrivateKey(privateKey);

const mosaicHttp = new MosaicHttp();
const transactionHttp = new TransactionHttp();

var namespace = &quot;devguidetest.sub1.sub2&quot;
var mosaic = &quot;devguide-mosaic&quot;
var amount = 1

var mosaicId = new MosaicId(namespace, mosaic);

mosaicHttp.getMosaicTransferableWithAmount( mosaicId, amount).subscribe( transferable =&gt;  {
                var transferTransaction: Transaction = TransferTransaction.createWithMosaics( 
                                             TimeWindow.createWithDeadline(), 
					     new Address(&quot;TDK4QK-F7HBHE-AFTEUR-OFMCAF-JQGBZT-SZ2ZSG-ZKZM&quot;), 
					     [transferable], 
					     EmptyMessage);
                // sign and broadcast
                const signedTransaction = account.signTransaction(transferTransaction);
                transactionHttp.announceTransaction(signedTransaction).subscribe( x =&gt; console.log(x));
});
</code></pre>


      
      </div>
    </div>

    <div id="navigation">
        
        <a class="nav nav-prev" href="https://rb2nem.github.io/nem-dev-guide/08-multisig-accounts"> <i class="fa fa-chevron-left"></i></a>
        <a class="nav nav-next" href="https://rb2nem.github.io/nem-dev-guide/10-offline-signer" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://rb2nem.github.io/nem-dev-guide//js/clipboard.min.js"></script>
    <script src="https://rb2nem.github.io/nem-dev-guide//js/perfect-scrollbar.min.js"></script>
    <script src="https://rb2nem.github.io/nem-dev-guide//js/perfect-scrollbar.jquery.min.js"></script>
    <script src="https://rb2nem.github.io/nem-dev-guide//js/jquery.sticky-kit.min.js"></script>
    <script src="https://rb2nem.github.io/nem-dev-guide//js/featherlight.min.js"></script>
    <script src="https://rb2nem.github.io/nem-dev-guide//js/html5shiv-printshiv.min.js"></script>
    <script src="https://rb2nem.github.io/nem-dev-guide//js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://rb2nem.github.io/nem-dev-guide//js/modernizr.custom.71422.js"></script>
    <script src="https://rb2nem.github.io/nem-dev-guide//js/learn.js"></script>
    <script src="https://rb2nem.github.io/nem-dev-guide//js/hugo-learn.js"></script>
    
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-96593681-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>


<script src="https://rb2nem.github.io/nem-dev-guide//js/tabs.js"></script>

  </body>
</html>

